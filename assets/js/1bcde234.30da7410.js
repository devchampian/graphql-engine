"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6506],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(n),m=i,h=c["".concat(s,".").concat(m)]||c[m]||u[m]||r;return n?a.createElement(h,o(o({ref:t},p),{},{components:n})):a.createElement(h,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},83562:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return u}});var a=n(83117),i=n(80102),r=(n(67294),n(3905)),o=["components"],l={sidebar_label:"Page Structure"},s="Docs page structure",d={unversionedId:"page-structure",id:"page-structure",title:"Docs page structure",description:"Meta information",source:"@site/wiki/page-structure.mdx",sourceDirName:".",slug:"/page-structure",permalink:"/docs/wiki/page-structure",editUrl:"https://github.com/hasura/graphql-engine/edit/master/docs/docs/page-structure.mdx",tags:[],version:"current",lastUpdatedBy:"Rikin Kachhia",lastUpdatedAt:1649851310,formattedLastUpdatedAt:"4/13/2022",frontMatter:{sidebar_label:"Page Structure"},sidebar:"wiki",previous:{title:"Index",permalink:"/docs/wiki/"},next:{title:"RST vs MDX Guide",permalink:"/docs/wiki/category/rst-vs-mdx-guide"}},p={},u=[{value:"Meta information",id:"meta-information",level:2},{value:"React component imports",id:"react-component-imports",level:2},{value:"Page title",id:"page-title",level:2},{value:"Table of contents",id:"table-of-contents",level:2},{value:"Introduction",id:"introduction",level:2},{value:"General guidelines",id:"general-guidelines",level:2},{value:"Content",id:"content",level:3},{value:"Header section",id:"header-section",level:3},{value:"References / links",id:"references--links",level:3},{value:"Internal links",id:"internal-links",level:4},{value:"External links",id:"external-links",level:4},{value:"Images",id:"images",level:3},{value:"Style elements for emphasizing",id:"style-elements-for-emphasizing",level:4},{value:"Notes / Admonitions",id:"notes--admonitions",level:3},{value:"Code blocks",id:"code-blocks",level:3},{value:"GraphQL request examples",id:"graphql-request-examples",level:3},{value:"Markdown Variables",id:"markdown-variables",level:2},{value:"Run docs build",id:"run-docs-build",level:2}],c={toc:u};function m(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"docs-page-structure"},"Docs page structure"),(0,r.kt)("h2",{id:"meta-information"},"Meta information"),(0,r.kt)("p",null,"The following meta information should be added at the beginning of each docs page: ",(0,r.kt)("inlineCode",{parentName:"p"},"description")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"keywords"),"."),(0,r.kt)("p",null,"An example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-markdown"},"---\ndescription: Data validations in Hasura\nkeywords:\n  - hasura\n  - docs\n  - schema\n  - data validation\n---\n")),(0,r.kt)("h2",{id:"react-component-imports"},"React component imports"),(0,r.kt)("p",null,"Please add any React component imports right below the frontmatter and beore starting the main doc content."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'import Thumbnail from "@site/src/components/Thumbnail";\n')),(0,r.kt)("p",null,"Note: When importing components from ",(0,r.kt)("inlineCode",{parentName:"p"},"src/")," directory, please do not use relative paths. Docusaurus provides a global variable ",(0,r.kt)("inlineCode",{parentName:"p"},"@site")," which is resolved to root of app - absolute import.\nSo, doing ",(0,r.kt)("inlineCode",{parentName:"p"},"@site/src/components/Thumbnail")," is same as ",(0,r.kt)("inlineCode",{parentName:"p"},"../../../src/components/Thumbnail"),"."),(0,r.kt)("h2",{id:"page-title"},"Page title"),(0,r.kt)("p",null,"Add the main title for each docs page."),(0,r.kt)("p",null,"An example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"# Data validations\n")),(0,r.kt)("p",null,"You can also add ",(0,r.kt)("inlineCode",{parentName:"p"},"title")," frontmatter."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-markdown"},"---\ntitle: Data validations\n---\n")),(0,r.kt)("p",null,"By default the title will be the label for sidebar item. So, to use a shorten/different label for sidebar use the ",(0,r.kt)("inlineCode",{parentName:"p"},"sidebar_label")," frontmatter to override."),(0,r.kt)("h2",{id:"table-of-contents"},"Table of contents"),(0,r.kt)("p",null,"This is auto generated on the right sidebar.\nAnd the depth can be controlled via ",(0,r.kt)("inlineCode",{parentName:"p"},"toc_max_heading_level"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"toc_min_heading_level")," frontmatter."),(0,r.kt)("p",null,"Please refer ",(0,r.kt)("a",{parentName:"p",href:"/docs/wiki/rst-vs-mdx-guide/table-of-contents"},"Table of Contents")," section to understand more about hwo to render this manually in between content and filtering items etc.,"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"Add an ",(0,r.kt)("inlineCode",{parentName:"p"},"Introduction")," section:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"## Introduction\n")),(0,r.kt)("p",null,"In the section, give a short overview of what the page is about."),(0,r.kt)("h2",{id:"general-guidelines"},"General guidelines"),(0,r.kt)("h3",{id:"content"},"Content"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'Add appropriate cross-links in content to assist users. i.e. if you refer to some functionality that is documented in some other docs page, add a link to that page. e.g. if you have a statement like "create a relationship between tables\nX and Y ...", make "create a relationship" a link to the ',(0,r.kt)("inlineCode",{parentName:"li"},"Create relationships")," page."),(0,r.kt)("li",{parentName:"ul"},'Try to make each section within a page self-sufficient. i.e. avoid structuring all pages as step-by-step guides\nunless it really is the intent. This ensures that we can refer to sections externally (from other docs pages, console,\netc.) and expect that the user will be able to follow the section without being lost on the context that was set in earlier sections of the page. Adding statements such as "As we have described in the above section ..." might help to set up the needed context.')),(0,r.kt)("h3",{id:"header-section"},"Header section"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Page titles should be self-sufficient. Users might not have the context of the hierarchy of the page in the docs tree. A user can land on a page via search as well. e.g. Say you are adding a new deployment guide for AWS under\n",(0,r.kt)("inlineCode",{parentName:"li"},"Guides -> Deployment -> AWS"),". The title of this page should not be just ",(0,r.kt)("inlineCode",{parentName:"li"},"AWS")," but instead ",(0,r.kt)("inlineCode",{parentName:"li"},"AWS deployment guide for \nHasura GraphQL engine"),". It's ok to alias it to just ",(0,r.kt)("inlineCode",{parentName:"li"},"AWS")," in the sidebar (",(0,r.kt)("inlineCode",{parentName:"li"},"sidebar_label: AWS"),") as there the user has the context of the page hierarchy."),(0,r.kt)("li",{parentName:"ul"},"Ensure heading underlines are the same length as the headings. Short underlines will throw warnings during builds."),(0,r.kt)("li",{parentName:"ul"},"Use bold in headings in place of string literals for aesthetics (i.e. ** in place of ","`",")."),(0,r.kt)("li",{parentName:"ul"},"The nesting of headings is as follows:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"# Main page title\n\n## First heading\n\n### Second heading\n\n#### Third heading\n\n##### Fourth heading\n\n###### Fifth heading\n")),(0,r.kt)("h3",{id:"references--links"},"References / links"),(0,r.kt)("h4",{id:"internal-links"},"Internal links"),(0,r.kt)("p",null,"When linking to other docs pages, use ",(0,r.kt)("em",{parentName:"p"},"root relative file paths")," (",(0,r.kt)("inlineCode",{parentName:"p"},"/graphql/core/data-validation.mdx"),") rather than ",(0,r.kt)("em",{parentName:"p"},"relative links")," (",(0,r.kt)("inlineCode",{parentName:"p"},"../../path/to/file.mdx"),") in order to avoid broken links.\nWhy? when files are moved around, we just need to replace old path with new path - no relative ",(0,r.kt)("inlineCode",{parentName:"p"},"../../../")," resolution required."),(0,r.kt)("p",null,"Please read the ",(0,r.kt)("a",{parentName:"p",href:"/docs/wiki/rst-vs-mdx-guide/links"},"Links")," section for more details on how to work with Links."),(0,r.kt)("p",null,"An example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[data validation](/graphql/core/data-validation.mdx)\n")),(0,r.kt)("p",null,"In this example, ",(0,r.kt)("inlineCode",{parentName:"p"},"data validation")," is the link text, and ",(0,r.kt)("inlineCode",{parentName:"p"},"/graphql/core/data-validation.mdx")," is the file path which will be resolved as link by docusaurus."),(0,r.kt)("h4",{id:"external-links"},"External links"),(0,r.kt)("p",null,"External links are no different in syntax, replace the file paths with external links and that's it."),(0,r.kt)("p",null,"An example:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"[Google](https://www.google.com/)"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.google.com/"},"Google")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note"),": If you link to an external resource, make sure to link to the most current version of the same, e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"https://www.postgresql.org/docs/current/intro-whatis.html")," rather than ",(0,r.kt)("inlineCode",{parentName:"p"},"https://www.postgresql.org/docs/9.6/intro-whatis.html"),"."),(0,r.kt)("h3",{id:"images"},"Images"),(0,r.kt)("p",null,"Add images using the ",(0,r.kt)("inlineCode",{parentName:"p"},"Thumbnail")," component to allow click-to-zoom."),(0,r.kt)("p",null,"An example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'import Thumbnail from "@site/src/components/Thumbnail";\n\n<Thumbnail\n  src="/img/graphql/manual/schema/validation-add-check-constraint.png"\n  alt="Add check constraint"\n  width="700px"\n/>\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Add an ",(0,r.kt)("inlineCode",{parentName:"li"},"alt")," prop for all images"),(0,r.kt)("li",{parentName:"ul"},"To adjust the image size, use the ",(0,r.kt)("inlineCode",{parentName:"li"},"width")," prop")),(0,r.kt)("h4",{id:"style-elements-for-emphasizing"},"Style elements for emphasizing"),(0,r.kt)("p",null,"If you have screenshots in your docs page and you want to emphasize something, please use this colour code: ",(0,r.kt)("inlineCode",{parentName:"p"},"#ec1c74"),"."),(0,r.kt)("p",null,"Generally, if you want to show selecting something, use borders. If you want to show clicking on a button, use arrows. "),(0,r.kt)("h3",{id:"notes--admonitions"},"Notes / Admonitions"),(0,r.kt)("p",null,'A note can be added in order to draw attention to something like limitations or to link to external reference documentation. It has the title "Notes".'),(0,r.kt)("p",null,"An example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\n:::info Note\n\nPlease checkout the [Postgres documentation](https://www.postgresql.org/docs/current/functions-comparison.html) for more information.\n\n:::\n\n")),(0,r.kt)("p",null,"An admonition is the same as a note, but its title can be defined. "),(0,r.kt)("p",null,"Add an admonition as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},":::info Other Title\n\nScheduled triggers are supported by `v.1.3.0` and above.\n\n:::\n\n:::tip Supported by\n\nScheduled triggers are supported by `v.1.3.0` and above.\n\n:::\n\n:::caution Deprecation\n\nScheduled triggers are supported by `v.1.3.0` and above.\n\n:::\n\n:::danger Security Vulnerability\n\nScheduled triggers are supported by `v.1.3.0` and above.\n\n:::\n\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note"),": Make sure to leave an intentional empty line before and after each ",(0,r.kt)("inlineCode",{parentName:"p"},":::")," in admonitions - beginning and end both."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff",metastring:"{1,3,5,7}","{1,3,5,7}":!0},"+\n:::info Note\n+\nMake sure to place the note/admonition in a place where the user will see it at the appropriate time.\n+\n:::\n+\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Note"),": Make sure to place the note/admonition in a place where the user will see it at the appropriate time."),(0,r.kt)("h3",{id:"code-blocks"},"Code blocks"),(0,r.kt)("p",null,"While adding code blocks ensure the right language type is set. Sometimes adding placeholders breaks the language's\nsyntax in which case you'll have to set the language type to ",(0,r.kt)("inlineCode",{parentName:"p"},"none")," to avoid warnings during builds."),(0,r.kt)("h3",{id:"graphql-request-examples"},"GraphQL request examples"),(0,r.kt)("p",null,"Our docs have a GraphiQL extension that allows displaying GraphQL requests in the GraphiQL UI."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use a tab-width of 2 for nesting the requests and responses for optimal use\nof the space and maintaining consistency."),(0,r.kt)("li",{parentName:"ul"},"Nest query arguments for logical readability. Unfortunately, GraphiQL prettify does not do a good job of doing this\nby default."),(0,r.kt)("li",{parentName:"ul"},"Ensure that the order of fields in the responses is the same as in the requests for better readability.")),(0,r.kt)("p",null,"Use it as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'import GraphiQLIDE from "@site/src/components/GraphiQLIDE";\n\n<GraphiQLIDE\nquery={`query {\n  author_by_pk(id: 1) {\n    id\n    name\n  }\n}`}\nresponse={`{\n  "data": {\n    "author_by_pk": {\n      "id": 1,\n      "name": "Justin"\n    }\n  }\n}`}\n/>\n')),(0,r.kt)("p",null,"You dont have to worry about indentation when adding components for better spacing in string literals"),(0,r.kt)("h2",{id:"markdown-variables"},"Markdown Variables"),(0,r.kt)("p",null,"Add the markdown variables at very end of file for easier refernce and maintainability. These varaibles are mostly for links.\nTo avoid repetetion of adding full path for each link, we could take advantage of ",(0,r.kt)("a",{parentName:"p",href:"https://daringfireball.net/projects/markdown/syntax#link"},"reference-style-links")," syntax in markdown."),(0,r.kt)("p",null,"For Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-markdown"},"## Section one\n\n.....\n\nREST ... [create_action][metadata-create-action] or\n[update_action][metadata-update-action] metadata APIs ...\n[request_transform][RequestTransformation] field ...:\n\n....\n\n## Section two\n\n.....\n\nREST ... [create_action][metadata-create-action] or\n[update_action][metadata-update-action] metadata APIs ...\n[request_transform][RequestTransformation] field ...:\n\n....\n\n\n\x3c!-- Shared Link Variables --\x3e\n\n[metadata-create-action]: /graphql/core/api-reference/metadata-api/actions.mdx#metadata-create-action\n[metadata-update-action]: /graphql/core/api-reference/metadata-api/actions.mdx#metadata-update-action\n[RequestTransformation]: /graphql/core/api-reference/syntax-defs.mdx#requesttransformation\n\n")),(0,r.kt)("h2",{id:"run-docs-build"},"Run docs build"),(0,r.kt)("p",null,"Run the docs build in the end again with ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn build")," and make sure there are no errors/warnings because of any inconsitencies etc."))}m.isMDXComponent=!0}}]);